# ğŸš€ ì»¤ë®¤ë‹ˆí‹° API ì—”ë“œí¬ì¸íŠ¸ ì™„ë²½ ê°€ì´ë“œ

## ğŸ“‹ ìš”ì²­í•˜ì‹  ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„ ì™„ë£Œ!

### âœ… **êµ¬í˜„ í˜„í™©**
**8ê°œ ìš”ì²­ ì—”ë“œí¬ì¸íŠ¸ ëª¨ë‘ êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤!**

| ë²ˆí˜¸ | ìš”ì²­ ì—”ë“œí¬ì¸íŠ¸ | ì‹¤ì œ êµ¬í˜„ ì—”ë“œí¬ì¸íŠ¸ | ìƒíƒœ |
|------|----------------|---------------------|------|
| 1 | `POST /api/v1/community/request` | `POST /api/v1/community/requests` | âœ… êµ¬í˜„ë¨ |
| 2 | `POST /api/v1/community/sharing-offer` | `POST /api/v1/community/sharing-offer` | âœ… êµ¬í˜„ë¨ (ë³„ì¹­ ì¶”ê°€) |
| 3 | `POST /api/v1/community/item-sale` | `POST /api/v1/community/item-sale` | âœ… êµ¬í˜„ë¨ (NEW!) |
| 4 | `POST /api/v1/community/job-posting` | `POST /api/v1/community/job-posts` | âœ… êµ¬í˜„ë¨ |
| 5 | `POST /api/v1/community/job-seeking` | `POST /api/v1/community/job-seekers` | âœ… êµ¬í˜„ë¨ |
| 6 | `POST /api/v1/community/music-team-recruit` | `POST /api/v1/community/music-team-recruit` | âœ… êµ¬í˜„ë¨ |
| 7 | `POST /api/v1/community/music-team-seeking` | `POST /api/v1/community/music-team-seeking` | âœ… êµ¬í˜„ë¨ |
| 8 | `POST /api/v1/community/church-events` | `POST /api/v1/community/church-events` | âœ… êµ¬í˜„ë¨ |

---

## ğŸ¯ **ê° ì—”ë“œí¬ì¸íŠ¸ ìƒì„¸ ê°€ì´ë“œ**

### 1. **ë¬¼í’ˆ ìš”ì²­** 
```http
POST /api/v1/community/requests
```

**ìš”ì²­ ë°ì´í„°:**
```json
{
  "title": "ì±…ìƒ ì˜ìê°€ í•„ìš”í•©ë‹ˆë‹¤",
  "description": "ì„±ê²½ ê³µë¶€ë¥¼ ìœ„í•œ ì˜ìë¥¼ ì°¾ê³  ìˆìŠµë‹ˆë‹¤",
  "category": "ê°€êµ¬",
  "urgency_level": "normal",
  "location": "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬",
  "contact_info": "010-1234-5678",
  "needed_by": "2024-12-31T00:00:00"
}
```

**ì‘ë‹µ:**
```json
{
  "success": true,
  "message": "ìš”ì²­ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.",
  "data": {
    "id": 123,
    "title": "ì±…ìƒ ì˜ìê°€ í•„ìš”í•©ë‹ˆë‹¤",
    "status": "active"
  }
}
```

### 2. **ë‚˜ëˆ” ì œê³µ**
```http
POST /api/v1/community/sharing-offer
```

**ìš”ì²­ ë°ì´í„°:**
```json
{
  "title": "ì„±ê²½ì±… ë‚˜ëˆ”í•©ë‹ˆë‹¤",
  "description": "ìƒˆ ì„±ê²½ì±…ì„ ë‚˜ëˆ”í•©ë‹ˆë‹¤",
  "category": "ë„ì„œ",
  "condition": "ìƒˆê²ƒ",
  "location": "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬",
  "contact_info": "010-1234-5678",
  "images": ["https://supabase.co/.../image.jpg"],
  "status": "available"
}
```

**ì‘ë‹µ:**
```json
{
  "success": true,
  "message": "ë‚˜ëˆ” ê²Œì‹œê¸€ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.",
  "data": {
    "id": 124,
    "title": "ì„±ê²½ì±… ë‚˜ëˆ”í•©ë‹ˆë‹¤",
    "status": "available"
  }
}
```

### 3. **ë¬¼ê±´ íŒë§¤** ğŸ†•
```http
POST /api/v1/community/item-sale
```

**ìš”ì²­ ë°ì´í„°:**
```json
{
  "title": "ì¤‘ê³  í”¼ì•„ë…¸ íŒë§¤í•©ë‹ˆë‹¤",
  "description": "ì˜ ê´€ë¦¬ëœ ì¤‘ê³  í”¼ì•„ë…¸ë¥¼ íŒë§¤í•©ë‹ˆë‹¤",
  "category": "ì•…ê¸°",
  "condition": "ì¢‹ìŒ",
  "price": 500000,
  "location": "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬",
  "contact_info": "010-1234-5678",
  "images": ["https://supabase.co/.../piano.jpg"],
  "status": "available"
}
```

**ì‘ë‹µ:**
```json
{
  "success": true,
  "message": "ë¬¼ê±´ íŒë§¤ ê²Œì‹œê¸€ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.",
  "data": {
    "id": 125,
    "title": "ì¤‘ê³  í”¼ì•„ë…¸ íŒë§¤í•©ë‹ˆë‹¤",
    "price": 500000,
    "is_free": false,
    "status": "available"
  }
}
```

### 4. **ì‚¬ì—­ì ëª¨ì§‘**
```http
POST /api/v1/community/job-posts
```

**ìš”ì²­ ë°ì´í„°:**
```json
{
  "title": "ì£¼ì¼í•™êµ êµì‚¬ ëª¨ì§‘",
  "position": "ì£¼ì¼í•™êµ êµì‚¬",
  "employment_type": "ë´‰ì‚¬",
  "description": "ì•„ì´ë“¤ì„ ì‚¬ë‘í•˜ëŠ” êµì‚¬ë¥¼ ëª¨ì§‘í•©ë‹ˆë‹¤",
  "requirements": "ì‹ ì•™ìƒí™œ 3ë…„ ì´ìƒ",
  "location": "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬",
  "contact_info": "pastor@church.com",
  "deadline": "2024-12-31T00:00:00"
}
```

### 5. **ì‚¬ì—­ì ì§€ì›**
```http
POST /api/v1/community/job-seekers
```

**ìš”ì²­ ë°ì´í„°:**
```json
{
  "title": "ì£¼ì¼í•™êµ êµì‚¬ë¡œ ì„¬ê¸°ê³  ì‹¶ìŠµë‹ˆë‹¤",
  "desired_position": "ì£¼ì¼í•™êµ êµì‚¬",
  "employment_type": "ë´‰ì‚¬",
  "experience": "ì•„ë™ êµìœ¡ ê²½í—˜ 5ë…„",
  "skills": "í”¼ì•„ë…¸ ì—°ì£¼, ë¯¸ìˆ  ì§€ë„",
  "introduction": "ì•„ì´ë“¤ì„ ì‚¬ë‘í•˜ë©°...",
  "contact_info": "010-1234-5678"
}
```

### 6. **í–‰ì‚¬íŒ€ ëª¨ì§‘**
```http
POST /api/v1/community/music-team-recruit
```

**ìš”ì²­ ë°ì´í„°:**
```json
{
  "title": "í¬ë¦¬ìŠ¤ë§ˆìŠ¤ í–‰ì‚¬ ê¸°íšíŒ€ ëª¨ì§‘",
  "team_name": "í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ê¸°íšíŒ€",
  "team_type": "í–‰ì‚¬ê¸°íš",
  "instruments_needed": ["ê¸°íš", "ë””ìì¸", "ìŒí–¥"],
  "positions_needed": "ì´ë²¤íŠ¸ ê¸°íšì, ë””ìì´ë„ˆ",
  "description": "í¬ë¦¬ìŠ¤ë§ˆìŠ¤ í–‰ì‚¬ë¥¼ í•¨ê»˜ ì¤€ë¹„í•  íŒ€ì›ì„ ëª¨ì§‘í•©ë‹ˆë‹¤",
  "contact_info": "010-1234-5678"
}
```

### 7. **í–‰ì‚¬íŒ€ ì§€ì›**
```http
POST /api/v1/community/music-team-seeking
```

**ìš”ì²­ ë°ì´í„°:**
```json
{
  "title": "í–‰ì‚¬ ê¸°íšì— ì°¸ì—¬í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤",
  "desired_team_type": "í–‰ì‚¬ê¸°íš",
  "instruments_skills": ["í¬í† ìƒµ", "ì˜ìƒí¸ì§‘"],
  "experience": "êµíšŒ í–‰ì‚¬ ê¸°íš ê²½í—˜ 3ë…„",
  "introduction": "ì°½ì˜ì ì¸ í–‰ì‚¬ ê¸°íšì´ ê°€ëŠ¥í•©ë‹ˆë‹¤",
  "contact_info": "010-1234-5678"
}
```

### 8. **í–‰ì‚¬ ì†Œì‹**
```http
POST /api/v1/community/church-events
```

**ìš”ì²­ ë°ì´í„°:**
```json
{
  "title": "í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ì¶•ì œ ì•ˆë‚´",
  "event_type": "ì¶•ì œ",
  "description": "ì˜¨ ê°€ì¡±ì´ í•¨ê»˜í•˜ëŠ” í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ì¶•ì œì…ë‹ˆë‹¤",
  "start_date": "2024-12-24T18:00:00",
  "end_date": "2024-12-24T21:00:00",
  "location": "êµíšŒ ë³¸ë‹¹",
  "capacity": 200,
  "fee": 0,
  "contact_info": "010-1234-5678"
}
```

---

## ğŸ”§ **ê³µí†µ ìš”ì²­ í—¤ë”**

ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸ì—ì„œ ë‹¤ìŒ í—¤ë”ê°€ í•„ìš”í•©ë‹ˆë‹¤:

```http
Content-Type: application/json
Authorization: Bearer {JWT_TOKEN}
```

---

## ğŸ“ **ê³µí†µ ì‘ë‹µ í˜•ì‹**

### âœ… **ì„±ê³µ ì‘ë‹µ**
```json
{
  "success": true,
  "message": "ë“±ë¡ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.",
  "data": {
    "id": 123,
    "title": "ê²Œì‹œê¸€ ì œëª©",
    "status": "active"
  }
}
```

### âŒ **ì‹¤íŒ¨ ì‘ë‹µ**
```json
{
  "success": false,
  "message": "ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ìƒì„¸ ë‚´ìš©"
}
```

### ğŸš¨ **ì¸ì¦ ì˜¤ë¥˜**
```json
{
  "detail": "Not authenticated"
}
```

### ğŸ“ **ìœ íš¨ì„± ê²€ì¦ ì˜¤ë¥˜**
```json
{
  "detail": [
    {
      "loc": ["title"],
      "msg": "field required",
      "type": "value_error.missing"
    }
  ]
}
```

---

## ğŸ§ª **í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ**

### í•„ìˆ˜ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

#### 1. **ì •ìƒ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸**
- [ ] ê° ì—”ë“œí¬ì¸íŠ¸ì— ìœ íš¨í•œ ë°ì´í„°ë¡œ POST ìš”ì²­
- [ ] ì‘ë‹µ ë°ì´í„° êµ¬ì¡° í™•ì¸
- [ ] ìƒì„±ëœ ID ê°’ í™•ì¸

#### 2. **ì¸ì¦ í…ŒìŠ¤íŠ¸**
- [ ] JWT í† í° ì—†ì´ ìš”ì²­ â†’ 401 ì˜¤ë¥˜
- [ ] ì˜ëª»ëœ í† í°ìœ¼ë¡œ ìš”ì²­ â†’ 401 ì˜¤ë¥˜
- [ ] ìœ íš¨í•œ í† í°ìœ¼ë¡œ ìš”ì²­ â†’ ì„±ê³µ

#### 3. **ìœ íš¨ì„± ê²€ì¦ í…ŒìŠ¤íŠ¸**
- [ ] í•„ìˆ˜ í•„ë“œ ëˆ„ë½ â†’ 422 ì˜¤ë¥˜
- [ ] ì˜ëª»ëœ ë°ì´í„° íƒ€ì… â†’ 422 ì˜¤ë¥˜
- [ ] ë„ˆë¬´ ê¸´ ë¬¸ìì—´ â†’ 422 ì˜¤ë¥˜

#### 4. **ì´ë¯¸ì§€ ì—…ë¡œë“œ ì—°ë™ í…ŒìŠ¤íŠ¸**
- [ ] ì´ë¯¸ì§€ ë¨¼ì € ì—…ë¡œë“œ â†’ URL íšë“
- [ ] íšë“í•œ URLì„ images ë°°ì—´ì— í¬í•¨í•˜ì—¬ ê²Œì‹œê¸€ ì‘ì„±
- [ ] ì´ë¯¸ì§€ê°€ ì •ìƒ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸

---

## âš¡ **ì„±ëŠ¥ ë° ì œí•œì‚¬í•­**

### **íŒŒì¼ ì—…ë¡œë“œ**
- **ì´ë¯¸ì§€ ìµœëŒ€ í¬ê¸°**: 10MB
- **í—ˆìš© í˜•ì‹**: JPG, PNG, GIF, WEBP
- **ìµœëŒ€ íŒŒì¼ ìˆ˜**: 10ê°œ

### **í…ìŠ¤íŠ¸ ì œí•œ**
- **ì œëª©**: ìµœëŒ€ 200ì
- **ì„¤ëª…**: ì œí•œ ì—†ìŒ (TEXT íƒ€ì…)
- **ì—°ë½ì²˜**: ìµœëŒ€ 100ì

### **API ì œí•œ**
- **Rate Limiting**: í˜„ì¬ ë¯¸ì ìš© (í•„ìš”ì‹œ ì ìš© ê°€ëŠ¥)
- **ë™ì‹œ ìš”ì²­**: ì œí•œ ì—†ìŒ

---

## ğŸš¨ **ì£¼ì˜ì‚¬í•­**

### 1. **Church ID ìë™ ì„¤ì •**
- ëª¨ë“  ê²Œì‹œê¸€ì€ í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ `church_id`ë¡œ ìë™ ì„¤ì •ë©ë‹ˆë‹¤
- í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë³„ë„ë¡œ church_idë¥¼ ë³´ë‚¼ í•„ìš” ì—†ìŠµë‹ˆë‹¤

### 2. **User ID ìë™ ì„¤ì •**
- ì‘ì„±ì ì •ë³´ëŠ” JWT í† í°ì—ì„œ ìë™ìœ¼ë¡œ ì¶”ì¶œë©ë‹ˆë‹¤
- `current_user.id`ê°€ ìë™ìœ¼ë¡œ ì„¤ì •ë©ë‹ˆë‹¤

### 3. **ì´ë¯¸ì§€ URL í˜•ì‹**
- ìƒˆë¡œìš´ Supabase URL í˜•ì‹ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤
- `https://adzhdsajdamrflvybhxq.supabase.co/storage/v1/object/public/...`

### 4. **íƒ€ì„ì¡´**
- ëª¨ë“  ë‚ ì§œ/ì‹œê°„ì€ ISO 8601 í˜•ì‹ìœ¼ë¡œ ì „ì†¡í•´ì£¼ì„¸ìš”
- ì˜ˆ: `"2024-12-31T23:59:59"`

---

## ğŸ“ **ë¬¸ì œ í•´ê²°**

### ìì£¼ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ë“¤

#### `405 Method Not Allowed`
- **ì›ì¸**: ì˜ëª»ëœ HTTP ë©”ì„œë“œ ë˜ëŠ” URL
- **í•´ê²°**: POST ë©”ì„œë“œì™€ ì •í™•í•œ URL í™•ì¸

#### `422 Unprocessable Entity`
- **ì›ì¸**: ìš”ì²­ ë°ì´í„° ìœ íš¨ì„± ê²€ì¦ ì‹¤íŒ¨
- **í•´ê²°**: í•„ìˆ˜ í•„ë“œì™€ ë°ì´í„° íƒ€ì… í™•ì¸

#### `500 Internal Server Error`
- **ì›ì¸**: ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜
- **í•´ê²°**: ìš”ì²­ ë°ì´í„° í˜•ì‹ ì¬í™•ì¸, ë¡œê·¸ í™•ì¸

### ë””ë²„ê¹… ë„êµ¬

#### API ìƒíƒœ í™•ì¸
```http
GET /api/v1/health
```

#### ê°œë³„ ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸
ê° íŒŒì¼ì˜ health check ì—”ë“œí¬ì¸íŠ¸ í™œìš©:
- `GET /api/v1/community/requests/health`
- `GET /api/v1/community/sharing/health`
- ë“±ë“±...

---

## ğŸ‰ **ì™„ë£Œ!**

**ëª¨ë“  ìš”ì²­í•˜ì‹  ì—”ë“œí¬ì¸íŠ¸ê°€ ì™„ë²½í•˜ê²Œ êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤!**

ì´ì œ ë°”ë¡œ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì‚¬ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

**í…ŒìŠ¤íŠ¸ ì™„ë£Œ í›„ ê²°ê³¼ë¥¼ ê³µìœ í•´ì£¼ì„¸ìš”!** ğŸš€

---

## ğŸ“š **ì¶”ê°€ ë¦¬ì†ŒìŠ¤**

- [ì´ë¯¸ì§€ ì—…ë¡œë“œ ê°€ì´ë“œ](./FRONTEND_NOTIFICATION.md)
- [API ì „ì²´ ë¬¸ì„œ](./backend-api-specification.md)
- [ì—ëŸ¬ ì²˜ë¦¬ ê°€ì´ë“œ](í•„ìš”ì‹œ ì¶”ê°€ ì‘ì„± ê°€ëŠ¥)

**ë¬¸ì œê°€ ë°œìƒí•˜ë©´ ì–¸ì œë“  ì—°ë½ì£¼ì„¸ìš”!** ğŸ’ª